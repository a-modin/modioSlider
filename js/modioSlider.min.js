
window.onload=function(){
(function (){

//modioSliderJs
//////////////////////////////////////////////////////////////////////////////////////////////////////////////

//Чтобы сделать <div> </div> слайдером, добавьте ему атрибут data-modio = "slider", 
//и все div'ы внутри станут слайдами, внутри которых можно размещать любой контент.

var sliderWidth =      800,      // Ширина слайдера
	sliderHeight =     300,      // Высота слайдера
	respons =          false,    // Адаптивность (при значении true, sliderWidth будет игнорироваться)
	leftRightBut =     true,     // Кнопки пролистывания налево и направо
	slideSpeed =       20,       // Скорость пролистывания
	autoPlay =         true,     // Автопролистывание 
	autoPlayIntrval =  3000;     // Задержка при автопролистывании 

//////////////////////////////////////////////////////////////////////////////////////////////////////////////
function modioElemSearch(){var e=document.getElementsByTagName("div");for(var t=0;t<e.length;t++){if(e[t].hasAttribute("data-modio")&&e[t].getAttribute("data-modio")==="slider"){modioElem=e[t]}}}function animLeft(e,t){var n=parseInt(slideWrapper.style.left);var r=setInterval(function(){if(n<t){n+=30;slideWrapper.style.left=n+"px"}else{clearInterval(r);slideWrapper.style.left=t+"px"}},e)}function animRight(e,t){var n=parseInt(slideWrapper.style.left);var r=setInterval(function(){if(n>t){n-=30;slideWrapper.style.left=n+"px"}else{clearInterval(r);slideWrapper.style.left=t+"px"}},e)}function autoplay(){if(autoPlay===true){var e=setInterval(xRight,autoPlayIntrval)}}if(respons){sliderWidth=document.documentElement.clientWidth}var modioElem;modioElemSearch();var modioSlides=modioElem.children;var slider={width:sliderWidth,height:sliderHeight,slidesNum:modioSlides.length,activeSlide:1,slideWrapperPos:0};modioElem.id="slider";modioElem.setAttribute("class","slider");modioElem.style.width=sliderWidth+"px";modioElem.style.height=sliderHeight+"px";var modioSlidesHTML="";if(leftRightBut){var controlButtons='<div class="leftBtn" id="leftBtn" style="left:0;width: 50px; height: 100%; position: absolute; background-color: #fff; cursor: pointer; opacity: 0.5;"></div><div class="rightBtn" id="rightBtn" style="right:0 ;width: 50px; height: 100%; position: absolute; background-color: #fff; cursor: pointer; opacity: 0.5;"></div>'}else{controlButtons=""}var cssLeft=-slider.width;for(var i=0;i<modioSlides.length;i++){cssLeft+=slider.width;modioSlidesHTML+='<div id="slide'+i+'" style="left:'+cssLeft+"px; width:"+sliderWidth+"px; height:"+sliderHeight+'px; position: absolute; overflow: hidden; "class="slide'+i+'">'+modioSlides[i].innerHTML+"</div>"}modioElem.innerHTML='<div id="slideWrapper" class="slideWrapper" style="left:0; position: absolute;">'+modioSlidesHTML+"</div>"+controlButtons;modioElem.style.position="relative";modioElem.style.overflow="hidden";modioElem.style.backgroundColor="grey";var leftBtn=document.getElementById("leftBtn"),rightBtn=document.getElementById("rightBtn"),sliderWrapper=document.getElementById("sliderWrapper");var xLeft=function(){if(slider.activeSlide!=1){slider.activeSlide-=1;slider.slideWrapperPos+=slider.width;animLeft(slideSpeed,slider.slideWrapperPos)}else{slider.activeSlide=slider.slidesNum;slider.slideWrapperPos=-(slider.width*(slider.slidesNum-1));animRight(slideSpeed/slider.slidesNum,slider.slideWrapperPos)}console.log(slider)};var xRight=function(){if(slider.activeSlide!=slider.slidesNum){slider.activeSlide+=1;slider.slideWrapperPos-=slider.width;animRight(slideSpeed,slider.slideWrapperPos)}else{slider.activeSlide=1;slider.slideWrapperPos=0;animLeft(slideSpeed/slider.slidesNum,slider.slideWrapperPos)}};if(leftRightBut){leftBtn.onclick=function(){xLeft()};rightBtn.onclick=function(){xRight()}}autoplay()}());};